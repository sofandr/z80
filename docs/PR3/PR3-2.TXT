
         кумулятора переключается на противоположный).
              DAA - DECIMAL ADJUST ACCUMULATOR = ДЕСЯТИРИЧНАЯ  НАСТРОЙКА
         АККУМУЛЯТОРА. (Содержимое аккумулятора перестраивается в  соот-
         ветствии с правилами BCD-арифметики).
              DEC - DECREMENT = УМЕНЬШЕНИЕ (на единицу).
              DI - DISABLE INTERRUPTS = ОТКЛЮЧЕНИЕ ПРЕРЫВАНИЙ.
              DJNZ - DECREMENT and JUMP if NOT ZERO = УМЕНЬШИТЬ (на еди-
         ницу) и ПЕРЕЙТИ, если НЕ НОЛЬ. (Уменьшается на единицу содержи-
         мое регистра BC и, если ноль еще не достигнут, выполняется  от-
+                                  - 260 -

         носительный переход на заданную величину байтов).
              EI - ENABLE INTERRUPTS = РАЗРЕШЕНИЕ ПРЕРЫВАНИЙ.
              EX - EXCHANGE = ОБМЕН. (Обмен содержимого регистров).
              HALT = СТОП
              IM 0 - INTERRUPT MODE 0 = РЕЖИМ ПРЕРЫВАНИЙ 0.
              IM 1 - INTERRUPT MODE 1 = РЕЖИМ ПРЕРЫВАНИЙ 1.
              IM 2 - INTERRUPT MODE 2 = РЕЖИМ ПРЕРЫВАНИЙ 2.
              IN   - INPUT = ВВОД (данных с внешнего порта).
              INC  - INCREMENT = УВЕЛИЧИТЬ (на единицу).
              IND   - INPUT  and DECREMENT  = ВВОД  и УМЕНЬШЕНИЕ. (После
         ввода байта  с внешнего  порта происходит  уменьшение указателя
         адреса на единицу).
              INDR - INPUT,  DECREMENT and REPEAT  = ВВОД, УМЕНЬШЕНИЕ  и
         ПОВТОР (После ввода байта с внешнего порта происходит  уменьше-
         ние указателя адреса на единицу, и далее процесс повторяется до
         тех пор, пока не обнулится счетчик байтов).
              INI -  INPUT and  INCREMENT =  ВВОД   и УВЕЛИЧЕНИЕ. (После
         ввода байта  с внешнего  порта происходит  увеличение указателя
         адреса на единицу).
              INIR -  INPUT,INCREMENT and  REPEAT =  ВВОД, УВЕЛИЧЕНИЕ  и
         ПОВТОР. (После ввода байта с внешнего порта происходит увеличе-
         ние указателя адреса на единицу и далее процесс повторяется  до
         тех пор, пока не обнулится счетчик байтов).
              JP - JUMP = ПЕРЕХОД (абсолютный).
              JR - JUMP RELATIVE = ПЕРЕХОД ОТНОСИТЕЛЬНЫЙ.
              LD - LOAD = ЗАГРУЗКА. (Выполняется копирование данных).
              LDD - LOAD and DECREMENT - ЗАГРУЗИТЬ и УМЕНЬШИТЬ.  (Произ-
         водится копирование  данных из  одной области  памяти в другую,
         после чего происходит уменьшение указателей адресов источника и
         места назначения).
              LDDR - LOAD, DECREMENT and REPEAT - ЗАГРУЗИТЬ, УМЕНЬШИТЬ и
         ПОВТОРИТЬ. (Производится  копирование данных  из одной  области
         памяти в  другую, после  чего происходит  уменьшение указателей
         адресов источника и места назначения, а также счетчика  байтов.
         Если счетчик не равен нулю, то процесс повторяется).
              LDI - LOAD and INCREMENT = ЗАГРУЗИТЬ И УВЕЛИЧИТЬ.
         (Производится  копирование  данных  из  одной  области паямти в
         другую,  после  чего  происходит  увеличение указателей адресов
         источника и места назначения).
              LDIR - LOAD, INCREMENT and REPEAT = ЗАГРУЗИТЬ, УВЕЛИЧИТЬ и
         ПОВТОРИТЬ. (Производится  копирование данных  из одной  области
         памяти в  другую, после  чего происходит  увеличение указателей
         адресов источника и места назначения, а также уменьшение  счет-
         чика байтов. Если он не равен нулю, то процесс повторяется).
              NEG - NEGATE = ИЗМЕНИТЬ ЗНАК (аккумулятора).
              NOP - NO OPERATION = НЕТ ОПЕРАЦИИ
              OR - логическое "ИЛИ"
              OUT - OUTPUT = ВЫВОД (данных на внешнее устройство).
+                                  - 261 -

              OUTD - OUTPUT and  DECREMENT = ВЫВОД и  УМЕНЬШЕНИЕ. (После
         вывода байта уменьшается на единицу  указатель адреса).
              OUTDR - OUTPUT, DECREMENT and REPEAT = ВЫВОД, УМЕНЬШЕНИЕ и
         ПОВТОР. (После вывода из памяти на внешнее устройство  уменьша-
         ются на единицу указатель адреса и содержимое счетчика  байтов.
         Если счетчик не достиг нуля, операция повторяется).
              OUTI - OUTPUT and INCREMENT  = ВЫВОД и УВЕЛИЧЕНИЕ. (После
         вывода байта увеличивается на единицу указатель адреса).
              OTIR - OUTPUT, INCREMENT and REPEAT = ВЫВОД,  УВЕЛИЧЕНИЕ и
         ПОВТОР. (После вывода байта увеличивается на единицу  указатель
         адреса и уменьшается  содержимое счетчика байтов.  Если счетчик
         не достиг нуля, операция повторяется).
              POP = ВЫТОЛКНУТЬ. (Перенос данных с вершины стека в задан-
         ную регистровую пару).
              PUSH  =  ЗАТОЛКНУТЬ.  (Копирование содержимого регистровой
         пары на вершину машинного стека).
              RET - RETURN = ВОЗВРАТ.
              RETI -  RETURN from  INTERRUPT =  ВОЗВРАТ после  обработки
         ПРЕРЫВАНИЯ.
              RETN - RETURN from NON-MASCABLE INTERRUPT = ВОЗВРАТ  после
         обработки НЕМАСКИРОВАННОГО ПРЕРЫВАНИЯ).
              RL - ROTATE LEFT = ВРАЩАТЬ ВЛЕВО  (Биты в регистре или в
         ячейке памяти).
              RLA  -  ROTATE  LEFT  ACCUMULATOR  =  ВРАЩАТЬ ВЛЕВО биты в
         АККУМУЛЯТОРЕ.
              RLC - ROTATE LEFT without CARRY - ВРАЩАТЬ ВЛЕВО без  флага
         ПЕРЕНОСА.(Флаг переноса хоть  и изменяется с  учетом результата
         операции, но во вращении не участвует).
              RLCA -  ROTATE ACCUMULATOR  LEFT without  CARRY -  ВРАЩАТЬ
         АККУМУЛЯТОР ВЛЕВО  без флага  ПЕРЕНОСА. (Флаг  переноса хоть  и
         изменяется  с  учетом  результата  операции,  но во вращении не
         участвует).
              RLD - DECIMAL ROTATE  LEFT = ДЕСЯТИРИЧНОЕ ВРАЩЕНИЕ  ВЛЕВО.
         (Вращение влево полубайтов,  содержащих десятиричные разряды  в
         BCD-арифметике).
              RR - ROTATE RIGHT = ВРАЩАТЬ ВПРАВО (биты в регистре или в
         ячейке памяти).
              RRA -  ROTATE RIGHT  ACCUMULATOR =  ВРАЩАТЬ ВПРАВО  БИТЫ в
         АККУМУЛЯТОРЕ).
              RRC  -  ROTATE  RIGHT  without  CARRY - ВРАЩАТЬ ВПРАВО без
         флага  ПЕРЕНОСА.  (Флаг  переноса  хоть  и  изменяется с учетом
         результата операции, но во вращении не участвует).
              RRCA -  ROTATE ACCUMULATOR  RIGHT without  CARRY - ВРАЩАТЬ
         АККУМУЛЯТОР ВПРАВО  без флага  ПЕРЕНОСА. (Флаг  переноса хоть и
         изменяется  с  учетом  результата  операции,  но во вращении не
         участвует).
              RRD - DECIMAL ROTATE RIGHT = ДЕСЯТИРИЧНОЕ ВРАЩЕНИЕ ВПРАВО.
         (Вращение вправо полубайтов в BCD-арифметике).
+                                  - 262 -

              RST -  RESTART =  ПОВТОРНЫЙ ЗАПУСК.  (Вызов на  исполнение
         заданной программы из системного ПЗУ компьютера).
              SBC - SUBTRACT with CARRY = ВЫЧИТАНИЕ с учетом флага ПЕРЕ-
         НОСА.
              SET =  ВКЛЮЧИТЬ (указанный  бит в  указанном регистре  или
         ячейке памяти).
              SLA - SHIFT LEFT ARITHMETIC = АРИФМЕТИЧЕСКИЙ СДВИГ ВЛЕВО.
              SRA - SHIFT RIGHT ARITHMETIC = АРИФМЕТИЧЕСКИЙ СДВИГ ВПРАВО
              SRL - SHIFT RIGHT LOGICAL = ЛОГИЧЕСКИЙ СДВИГ ВПРАВО.


                   5.   ТАБЛИЦА УКАЗАТЕЛЕЙ ПРЕРЫВАНИЙ ИЗ ПЗУ
         ╔═══════════════════════╦═════════════════════╦═══════════════╗
         ║ Значение регистра "I" ║   Адрес перехода    ║   Точка ПЗУ   ║
         ╠════════╦══════════════╬══════════╦══════════╬═══════════════╣
         ║  DEC   ║      HEX     ║   DEC    ║    HEX   ║       DEC     ║
         ╠════════╬══════════════╬══════════╬══════════╬═══════════════╣
         ║    0   ║      00      ║  20430   ║   4FCE   ║       255     ║
         ║    1   ║      01      ║  52818   ║   CE52   ║       511     ║
         ║    2   ║      02      ║  22269   ║   56FD   ║       767     ║
         ║    3   ║      03      ║  39020   ║   986C   ║      1023     ║
         ║    4   ║      04      ║  10419   ║   28B3   ║      1279     ║
         ║    5   ║      05      ║   2294   ║   08F6   ║      1535     ║
         ║    6   ║      06      ║  29149   ║   71DD   ║      1791     ║
         ║    7   ║      07      ║  16039   ║   3EA7   ║      2047     ║
         ║    8   ║      08      ║   2088   ║   0828   ║      2303     ║
         ║    9   ║      09      ║  65129   ║   FE69   ║      2559     ║
         ║   10   ║      0A      ║  32802   ║   8022   ║      2815     ║
         ║   11   ║      0B      ║  58888   ║   E608   ║      3071     ║
         ║   12   ║      0C      ║  53183   ║   CFBF   ║      3327     ║
         ║   13   ║      0D      ║  52503   ║   CD17   ║      3583     ║
         ║   14   ║      0E      ║  14367   ║   381F   ║      3839     ║
         ║   15   ║      0F      ║  27928   ║   6D18   ║      4095     ║
         ║   16   ║      10      ║  51984   ║   CB10   ║      4351     ║
         ║   17   ║      11      ║   8729   ║   2219   ║      4607     ║
         ║   18   ║      12      ║  52481   ║   CD01   ║      4863     ║
         ║   19   ║      13      ║  49749   ║   C255   ║      5119     ║
         ║   20   ║      14      ║  25705   ║   6469   ║      5375     ║
         ║   21   ║      15      ║  51673   ║   C9D9   ║      5631     ║
         ║   22   ║      16      ║  51568   ║   C970   ║      5888     ║
         ║   23   ║      17      ║  12493   ║   30CD   ║      6143     ║
         ║   24   ║      18      ║  15582   ║   3CDE   ║      6399     ║
         ║   25   ║      19      ║  23842   ║   5D22   ║      6655     ║
         ║   26   ║      1A      ║  13824   ║   3600   ║      6911     ║
         ║   27   ║      1B      ║   7306   ║   1C8A   ║      7167     ║
         ║   28   ║      1C      ║  49947   ║   C31B   ║      7423     ║
         ║   29   ║      1D      ║   2344   ║   0928   ║      7679     ║
         ╚════════╩══════════════╩══════════╩══════════╩═══════════════╝
+                                 - 263 -

                                      Продолжение таблицы указателей.
         ╔════════╦══════════════╦══════════╦══════════╦═══════════════╗
         ║   30   ║      1E      ║  26573   ║   67CD   ║      7935     ║
         ║   31   ║      1F      ║   3360   ║   0D20   ║      8191     ║
         ║   32   ║      20      ║  52513   ║   CD21   ║      8447     ║
         ║   33   ║      21      ║  33485   ║   82CD   ║      8703     ║
         ║   34   ║      22      ║    544   ║   0220   ║      8959     ║
         ║   35   ║      23      ║  49537   ║   C181   ║      9215     ║
         ║   36   ║      24      ║   8527   ║   214F   ║      9471     ║
         ║   37   ║      25      ║  23670   ║   5C76   ║      9727     ║
         ║   38   ║      26      ║  20444   ║   4FDC   ║      9983     ║
         ║   39   ║      27      ║    288   ║   0120   ║     10239     ║
         ║   40   ║      28      ║  32348   ║   7E5C   ║     10495     ║
         ║   41   ║      29      ║  58154   ║   E32A   ║     10751     ║
         ║   42   ║      2A      ║  19754   ║   4D2A   ║     11007     ║
         ║   43   ║      2B      ║  23653   ║   5C65   ║     11263     ║
         ║   44   ║      2C      ║   7117   ║   1BCD   ║     11519     ║
         ║   45   ║      2D      ║  55781   ║   D9E5   ║     11775     ║
         ║   46   ║      2E      ║  23713   ║   5CA1   ║     12031     ║
         ║   47   ║      2F      ║   4569   ║   11D9   ║     12287     ║
         ║   48   ║      30      ║  60208   ║   EB30   ║     12543     ║
         ║   49   ║      31      ║  57640   ║   E128   ║     12799     ║
         ║   50   ║      32      ║  13627   ║   353B   ║     13055     ║
         ║   51   ║      33      ║  13256   ║   33C8   ║     13331     ║
         ║   52   ║      34      ║   1560   ║   0618   ║     13567     ║
         ║   53   ║      35      ║  57124   ║   DF24   ║     13823     ║
         ║   54   ║      36      ║  34307   ║   8603   ║     14079     ║
         ║   55   ║      37      ║  41231   ║   A10F   ║     14335     ║
         ║   56   ║      38      ║  65535   ║   FFFF   ║     14591     ║
         ║   57   ║      39      ║  65535   ║   FFFF   ║     14847     ║
         ║   58   ║      3A      ║  65535   ║   FFFF   ║     15103     ║
         ║   59   ║      3B      ║  65535   ║   FFFF   ║     15359     ║
         ║   60   ║      3C      ║    255   ║   00FF   ║     15615     ║
         ║   61   ║      3D      ║      0   ║     00   ║     15871     ║
         ║   62   ║      3E      ║    255   ║   00FF   ║     16127     ║
         ║   63   ║      3F      ║     60   ║   003C   ║     16383     ║
         ╚════════╩══════════════╩══════════╩══════════╩═══════════════╝


              6. СПРАВОЧНЫЕ  ТАБЛИЦЫ  ПО  РУСИФИКАЦИИ КОМПЬЮТЕРА.

              Стандартный код ASCII определяет только символы с номерами
         от 32 (пробел) до 127 ("копирайт"). В этом диапазоне расположе-
         ны знаки препинания, цифры, а также прописные и строчные  буквы
         латинского алфавита. Символы от  0 до 31 являются  управляющими
         кодами и стандартизированы лишь частично. Разработчики  компью-
         теров  могут  некоторые  из  кодов этого диапазона использовать
         по-разному.
+                                  - 264 -
              Символы выше 127-го этот стандарт не определяет и оставля-
         ет этот диапазон для размещения в нем национальных шрифтов (не-
         мецкого, французского, шведского и др.), а также для размещения
         там символов блочной графики.
              В компьютерах типа "ZX-Spectrum" его разработчики  размес-
         тили в  верхней части  кодовой таблицы  символы блочной графики
         (128 - 143), символы графики пользователя (144 - 164) и  токены
         ключевых слов встроенного БЕЙСИКа (165 - 255).
              Наличие  в  этом  диапазоне  токенов  ключевых слов делает
         невозможным размещение в верхней части кодовой таблицы символов
         русского алфавита и приходится искать другие пути.
              Наши читатели, очевидно, знают, что русификацию компьютера
         проводят двумя наиболее распространенными методами.  Во-первых,
         используя символы графики пользователя UDG, а во-вторых, сменой
         знакогенератора и переключением системной переменной CHARS.

                  6.1. Русификация с использованием символов UDG.
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
              Символы графики пользователя  могут быть использованы  для
         задания собственных символов. К сожалению, их всего только 21 и
         поэтому русский шрифт создать удается только для прописных букв
         и то при условии использования букв английского алфавита, имею-
         щих с русскими одинаковое начертание.
              Стандартов размещения прописных  русских букв на  клавишах
         компьютера в графическом режиме нет и быть не может,  поскольку
         сам  метод  использования  символов  UDG  является специфически
         "синклеровским" и нестандартен. Одним словом, Вы можете  разме-
         щать свои буквы на клавишах графики пользователя, как хотите.
              Тем не менее, мы все же рекомендовали бы обратить внимание
         на следующий факт. Где-то году примерно в 1984-1985, когда ком-
         пьютеры системы "Синклер" только начали появляться в СССР, поя-
         вилась и несложная программа, русифицирующая прописные буквы  с
         помощью символов UDG. Это программа "ABC" неизвестного  автора.
         Она получила очень  широкое распространение и,  возможно, стоит
         придерживаться принятой в ней  системы. Неважно, хороша она или
         плоха,  но  она  нашла  широкое  распространение и это, пожалуй
         главное. Мы приводим заданные в ней соотношения:
             ╔═══════════╤═════╦═══════════╤═════╦═══════════╤═════╗
             ║Клавиша в  │Буква║Клавиша в  │Буква║Клавиша в  │Буква║
             ║граф.режиме│     ║граф.режиме│     ║граф.режиме│     ║
             ╠═══════════╪═════╬═══════════╪═════╬═══════════╪═════╣
             ║     Q     │ Ы   ║     D     │  Д  ║     P     │  П  ║
             ║     E     │ Э   ║     F     │  Ф  ║     А     │  Я  ║
             ║     R     │ Ь   ║     G     │  Г  ║     S     │  Й  ║
             ║     T     │ Ъ   ║     H     │  Ч  ║     B     │  Б  ║
             ║     U     │ Ю   ║     J     │  Ж  ║     N     │  Ш  ║
             ║     I     │ И   ║     L     │  Л  ║     M     │  Щ  ║
             ║     O     │ У   ║     C     │  Ц  ║           │     ║
             ╚═══════════╧═════╩═══════════╧═════╩═══════════╧═════╝
+                                  - 265 -

              Прочие  прописные  буквы  имеют  одинаковые  написания   и
         берутся не в графическом, а в обычном режиме - курсор "L".

                     6.2 Русификация заменой генератора.
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
              С использованием графики пользователя русский текст  наби-
         рать очень утомительно.  Этот метод следует  использовать, если
         текст имеет достаточно малый  удельный вес в Вашей  программе -
         до нескольких  десятков слов.  В том  же случае,  если работа с
         большими  массивами  текста  -  Ваша  специальность, то следует
         провести  замену знакогенератора.  О  том,  как это сделать, мы
         неоднократно  писали  в  своих  ранних  работах  и   это знают,
         по-видимому, почти все.
              Перед Вами стоит  выбор - "какого  стандарта придерживать-
         ся?". Здесь возможны два варианта. Во-первых, работая с больши-
         ми объемами текста, Вы по-видимому, планируете выводить его  на
         принтер. Тогда  можно провести  русификацию так,  чтобы принтер
         правильно понимал коды русских букв. Во-вторых, если Вы  имеете
         богатый опыт  работы с  пишущей машинкой,  то можно русификацию
         провести под стандартную клавиатуру русской пишущей  машинки, а
         привязку к  принтеру осуществить  уже программным  путем. Тогда
         код, перед тем, как отправляться на печать, должен  конвертиро-
         ваться в стандарт, поддерживаемый принтером.

                      6.2.1. Русификация "под принтер".
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
              Мы уже установили, что  на "Спектруме" Вы можете  изменять
         только  нижнюю  половину  кодовой  таблицы.  Разместить  там  и
         английский и русский шрифты одновременно невозможно, поэтому их
         надо  переключать,  изменяя  содержимое  системной   переменной
         CHARS по мере необходимости. Точно так же подачей  управляющего
         кода на принтер  его можно переключать  то на латинский,  то на
         русский шрифт (см. инструкцию к принтеру). Таким образом,  если
         воспользоваться  принтером,  у  которого  русский  шрифт   тоже
         размещен в нижней половине кодовой таблицы (а именно так и есть
         у большинства наиболее распространенных у нас в стране  дешевых
         принтеров ROBOTRON, D-100 и т.п.), то коды должны  соответство-
         вать стандарту КОИ-7 (см. табл. 6.2 - символы до 63-го в ней не
         показаны, т.к. знаки препинания и цифры совпадают).
              Если Ваш принтер - EPSON или IBM - совместимый, то у  него
         русский шрифт  лежит в  верхней половине  кодовой таблицы, т.е.
         символы имеют  такие коды,  которые "Спектрум"  для символов не
         использует.  В  этом  случае  Вам  придется  написать программу
         перекодировки кода символа перед  выдачей его на принтер.  Зато
         здесь не надо переключать принтер с русского набора на  латинс-
         кий, и наоборот,  с  помощью  управляющих  кодов. В таблице 6.3
         показаны  коды  русских  букв  для  EPSON и для IBM-совместимых
         принтеров (кодировка ГОСТ-альтернативная).
+                                 - 266 -

                                                 Таблица 6.2.
                                Код КОИ-7
         ╔═════════╤════════╤══════════╦══════════╤══════════╤══════╗
         ║    Код  │  Англ. │   Рус.   ║      Код │  Англ.   │Рус.  ║
         ╠═════════╪════════╪══════════╬══════════╪══════════╪══════╣
         ║    64   │   @    │    ю     ║      96  │ фунт ст. │ Ю    ║
         ║    65   │   A    │    а     ║      97  │    a     │ А    ║
         ║    66   │   B    │    б     ║      98  │    b     │ Б    ║
         ║    67   │   C    │    ц     ║      99  │    c     │ Ц    ║
         ║    68   │   D    │    д     ║     100  │    d     │ Д    ║
         ║    69   │   E    │    е     ║     101  │    e     │ Е    ║
         ║    70   │   F    │    ф     ║     102  │    f     │ Ф    ║
         ║    71   │   G    │    г     ║     103  │    g     │ Г    ║
         ║    72   │   H    │    х     ║     104  │    h     │ Х    ║
         ║    73   │   I    │    и     ║     105  │    i     │ И    ║
         ║    74   │   J    │    й     ║     106  │    j     │ Й    ║
         ║    75   │   K    │    к     ║     107  │    k     │ К    ║
         ║    76   │   L    │    л     ║     108  │    l     │ Л    ║
         ║    77   │   M    │    м     ║     109  │    m     │ М    ║
         ║    78   │   N    │    н     ║     110  │    n     │ Н    ║
         ║    79   │   O    │    о     ║     111  │    o     │ О    ║
         ║    80   │   P    │    п     ║     112  │    p     │ П    ║
         ║    81   │   Q    │    я     ║     113  │    q     │ Я    ║
         ║    82   │   R    │    р     ║     114  │    r     │ Р    ║
         ║    83   │   S    │    с     ║     115  │    s     │ С    ║
         ║    84   │   T    │    т     ║     116  │    t     │ Т    ║
         ║    85   │   U    │    у     ║     117  │    u     │ У    ║
         ║    86   │   V    │    ж     ║     118  │    v     │ Ж    ║
         ║    87   │   W    │    в     ║     119  │    w     │ В    ║
         ║    88   │   X    │    ь     ║     120  │    x     │ Ь    ║
         ║    89   │   Y    │    ы     ║     121  │    y     │ Ы    ║
         ║    90   │   Z    │    з     ║     122  │    z     │ З    ║
         ║    91   │   [    │    ш     ║     123  │    {     │ Ш    ║
         ║    92   │   \    │    э     ║     124  │    |     │ Э    ║
         ║    93   │   ]    │    щ     ║     125  │    }     │ Щ    ║
         ║    94   │       │    ч     ║     126  │    ~     │ Ч    ║
         ║    95   │   _    │    ъ     ║     127  │"копирайт"│      ║
         ╚═════════╧════════╧══════════╩══════════╧══════════╧══════╝

                                                        Таблица 6.3.
                Кодировка русских символов ГОСТ-альтернативная.
         ╔═════════╤══════════╦═════════╤══════════╦══════╤════════════╗
         ║  Код    │  Символ  ║    Код  │ Символ   ║  Код │ Символ     ║
         ╠═════════╪══════════╬═════════╪══════════╬══════╪════════════╣
         ║  128    │    А     ║    151  │      Ч   ║  174 │       о    ║
         ║  129    │    Б     ║    152  │      Ш   ║  175 │       п    ║
         ║  130    │    В     ║    153  │      Щ   ║  176 │            ║
         ╚═════════╧══════════╩═════════╧══════════╩══════╧════════════╝
+                                  - 267 -
                                               Продолжение таблицы 6.3.
         ╔═════════╤══════════╦═════════╤══════════╦══════╤════════════╗
         ║  Код    │  Символ  ║    Код  │ Символ   ║  Код │ Символ     ║
         ╠═════════╪══════════╬═════════╪══════════╬══════╪════════════╣
         ║  131    │    Г     ║    154  │      Ъ   ║   .  │    псевдо- ║
         ║  132    │    Д     ║    155  │      Ы   ║   .  │     гра-   ║
         ║  133    │    Е     ║    156  │      Ь   ║   .  │     фика   ║
         ║  134    │    Ж     ║    157  │      Э   ║  224 │       р    ║
         ║  135    │    З     ║    158  │      Ю   ║  225 │       с    ║
         ║  136    │    И     ║    159  │      Я   ║  226 │       т    ║
         ║  137    │    Й     ║    160  │      а   ║  227 │       у    ║
         ║  138    │    К     ║    161  │      б   ║  228 │       ф    ║
         ║  139    │    Л     ║    162  │      в   ║  229 │       х    ║
         ║  140    │    М     ║    163  │      г   ║  230 │       ц    ║
         ║  141    │    Н     ║    164  │      д   ║  231 │       ч    ║
         ║  142    │    О     ║    165  │      е   ║  232 │       ш    ║
         ║  143    │    П     ║    166  │      ж   ║  233 │       щ    ║
         ║  144    │    Р     ║    167  │      з   ║  234 │       ъ    ║
         ║  145    │    С     ║    168  │      и   ║  235 │       ы    ║
         ║  146    │    Т     ║    169  │      й   ║  236 │       ь    ║
         ║  147    │    У     ║    170  │      к   ║  237 │       э    ║
         ║  148    │    Ф     ║    171  │      л   ║  238 │       ю    ║
         ║  149    │    Х     ║    172  │      м   ║  239 │       я    ║
         ║  150    │    Ц     ║    173  │      н   ║      │            ║
         ╚═════════╧══════════╩═════════╧══════════╩══════╧════════════╝

                      6.2.2. Русификация "под пишущую машинку".
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
              Те, кто хорошо  знают клавиатуру русской  пишущей машинки,
         могут  предпочесть  провести  русификацию  так, чтобы раскладка
         клавиатуры   "Спектрума"  более  или  менее  соответствовала бы
         раскладке  пишущей  машинки.  В  этом  случае  Вам   безусловно
         придется  конвертировать  коды  перед  выдачей  их  на принтер,
         независимо от того, какой у Вас принтер - ROBOTRON или EPSON  и
         в какой половине кодовой таблицы он содержит русский шрифт -  в
         нижней или в верхней.
              Соответствие клавиш "Спектрума" и русских букв, закрепляе-
         мых за ними (как прописных,  так и строчных), показано в  табл.
         6.4.

                                               Таблица 6.4.
          ╔═══════════════════════════════════════════════════════════╗
          ║  Q/Й  W/Ц   E/У   R/К   T/Е   Y/Н   U/Г   I/Ш   O/Щ   P/З ║
          ║                                                           ║
          ║  A/Ф  S/Ы   D/В   F/А   G/П   H/Р   J/О   K/Л   L/Д       ║
          ║                                                           ║
          ║  Z/Я  X/Ч   C/С   V/М   B/И   N/Т   M/Ь                   ║
          ╚═══════════════════════════════════════════════════════════╝

+                                  - 268 -

              В результате такой "привязки" нескольким буквам не хватило
         места. Это буквы: Б,б,Ж,ж,Х,х,Ъ,ъ,Э,э,Ю,ю. Их придется  "привя-
         зать" к символам, набираемым  с нажатой клавишей SYMBOL  SHIFT.
         Выберите те  символы, которые  редко используются  и  привяжите
         эти буквы к ним, например, @,#,$,%,&,<=,<>,>=,<,>,"фунт","".


                           6.3  Полезные советы.
                           ~~~~~~~~~~~~~~~~~~~~~~
              Если Вы сами пишете программы, то пожалуйста прислушайтесь
         к нескольким практическим рекомендациям, связанным с  русифика-
         цией компьютера. Они проверены  многолетним опытом и могут  Вам
         пригодиться.
              1. Никогда не рассчитывайте на то, что у будущего  пользо-
         вателя Вашей  программы  компьютер  русифицирован так же, как у
         Вас. Если Вы используете русский знакогенератор, даже если он у
         Вас "зашит" в ПЗУ,  все равно дистрибутивную программу  постав-
         ляйте со  своим знакогенератором.  Прогружайте его  в компьютер
         перед загрузкой  программы и  переключайте CHARS  перед выводом
         всех сообщений на печать.
              2.  Никогда  не   устраивайте  в  программе   двусторонних
         диалогов на  русском языке.  Сами пишите  пользователю все, что
         хотите, но не требуйте от него никаких вводов на русском языке,
         особенно  если  есть  шанс,  что  с  программой  будет работать
         ребенок. Не доводите дело до того, чтобы он размазывал слезы по
         клавиатуре в поисках клавиши,  на которую Вы "подвесили"  букву
         "Щ",  особенно   если  она "висит" на  символе  "}", который не
         так-то просто нажать.
              3.  Даже в тех случаях, когда надо дать простой ответ типа
         "Д/Н" (Да/Нет) не  надо требовать нажатия  клавиш "Д" или  "Н".
         Можете сделать запрос типа "Y/N, как это принято во всем  мире.
         Если не хотите, то сделайте так:
                                 1 - "Да"
                                 2 - "Нет"
         - и проверьте, что он нажал - клавишу "1" или "2".
              4. Если очень нужно, чтобы пользователь ввел что-то по-
         русски, "подсуньте" ему готовые альтернативы:
                          1. Идти налево.
                          2. Идти направо.
                          3. Идти вверх.
                          4. Копать.
                          5. Кричать "Караул!"
              Организуйте ему выбор из такого меню то ли нажатием  соот-
         ветствующей цифры, то ли перемещением визуального указателя, то
         ли изменением цвета выбираемой опции - как хотите.
              5. Даже  если Вам  хочется, чтобы  пользователь ввел  свое
         имя, не  надо это  делать. Для  установления дружеского диалога
         дайте ему несколько псевдонимов, пусть выберет себе тот,  кото-
+                                  - 269 -

         рый понравится.
                           1. Джонни    3. Бекки
                           2. Робби     4. Терри
              Если перед Вами  целый класс учеников,  то ведь у  каждого
         есть номер  по классному  журналу и  Вам надо  подумать, как  в
         игровом духе  обыграть этот  номер. Номер  ученик вполне  может
         ввести сам, например:
                             Агент 007
                             Пилот Б-13
                      Капитан космического фрегата
                      "Грозный", бортовой номер 22.
              6. Устраивая игры типа "Поле Чудес", Вы рассчитываете,  на
         то, что пользователь будет вводить некую букву. Не рассчитывай-
         те - это нетактично. Подумайте, как покрасивее дать ему возмож-
         ность эту букву  выбрать без ввода  с клавиатуры.   Может быть,
         ему надо сбить самолет с пролетающей нужной буквой, может  быть
         ему надо покрутить какой-то  барабан, пока в нем  не высветится
         нужная  буква  -  используйте  все,  что  хотите, но не просите
         ничего вводить с клавиатуры русскими буквами.

              7. Если же Ваша программа именно для того и предназначена,
         чтобы вводить что-то русскими буквами (например, если это  база
         данных), то во-первых, перед началом программы  дайте табличку,
         где  какая  буква  находится,  а  во-вторых,  обеспечьте, чтобы
         пользователь  мог  эту  табличку  вызвать  для  справки в любое
         время. Например, назначьте  какой-то "горячей клавише",  скажем
         "SYMBOL SHIFT"  + "2"  вызов на  экран этой  таблички и во всех
         состояниях ожидания действий пользователя организуйте  проверку
         нажатия этой клавиши. Ту  часть экрана, которая "портится"  при
         выдаче этой таблички, надо где-то сохранить переброской  коман-
         дой LDIR, а после выхода из таблички - точно так же и восстано-
         вить.
















+                                   - 270 -

                              7.   ЗАКЛЮЧЕНИЕ.

              Глубокоуважаемый читатель. Мы благодарим Вас за  внимание,
         проявленное к нашей книге. Если Вы прочитали ее до конца и  все
         в ней Вам понятно, то Вы сделали большой шаг вперед, но все  же
         это только самый первый шаг.

              Мы надеемся на то, что Вы не остановитесь на этом и пойде-
         те дальше,  ведь у  персонального компьютера  есть одно замеча-
         тельное свойство - он дает возможность человеку  самоутвердить-
         ся. Неважно сколько ему  лет, неважен уровень его  образования,
         неважно с  какими программами  он работает,  но каждый  день он
         самоутверждается. Он одерживает большие и малые победы, ощущает
         себя то ли первооткрывателем, то ли творцом, то ли  покорителем
         - и всегда это так и есть на самом деле.

              Мы  готовы  поддерживать  Вас  и  далее на этом пути. Наша
         следующая задача - многотомное издание по графике  "Спектрума".
         Всего в работе находятся 4  тома, объемом по 200 -  220 страниц
         каждый.

             т.1  "Элементарная графика". Рассмотрены вопросы, связанные
                  графикой  на  БЕЙСИКе,  подробно  рассмотрена работа с
                  графикой  из машинного кода, даны сведения о  примене-
                  нии  встроенных  процедур  ПЗУ,  обращено  внимание на
                  тонкости их использования, связанные с наличием в  ПЗУ
                  системных ошибок и неточностей, имеется масса  практи-
                  ческих рекомендаций и приемов, даны ранее не опублико-
                  ванные сведения, касающиеся особенностей 128 килобайт-
                  ных машин. Это базовая книга всей серии.

              т.2 "Прикладная  графика". В нем рассмотрены вопросы  кон-
                  кретного  применения  графики  для деловых, обучающих,
                  научных, игровых и  прочих программ. Рассмотрена  рас-
                  тровая,   векторная,   блочная,  трехмерная,   теневая
                  графика и пр.

              т.3 "Динамическая графика" - рассмотрены вопросы  анимации
+                                 - 271 -

                  графических изображений. Основная направленность -  на
                  создание обучающих и игровых программ.

              т.4."Дизайн Ваших  программ" -  квинтэссенция того, к  че-
                  му читатель шел, работая над первыми томами серии.

              Кроме того, мы  рекомендуем Вам приобрести  выпуски нашего
         периодического издания  "ZX-РЕВЮ", издаваемого  с 1991  года. В
         настоящий момент  есть возможность  приобретения комплектов  за
         91-ый и 92-ой годы, выполненных в виде отдельной книжки того же
         формата, как и данная книга. Их объем - по 264 страницы, но  за
         счет очень плотной печати и мелкого шрифта, каждый сборник  со-
         держит материал, равный  примерно 1200 страницам  машинописного
         текста, охватывающий практически весь спектр интересов  пользо-
         вателей "ZX-Spectrum",  в том  числе и  любителей игрового про-
         граммного обеспечения.
              Есть возможность подписаться и на выпуски текущего года.

              По всем вопросам приобретения нашей литературы и  подписки
         на "ZX-РЕВЮ" Вы можете обратиться с запросом по нашему адресу:
                         121019, Москва, Г-19, а/я 16,
                                "ИНФОРКОМ"

              Приложите конверт с заполненным обратным адресом и Вам бу-
         дет выслан рекламный листок с предложением имеющейся на  данный
         момент литературы и бланк-заказ.

              Если Вы проживаете на Украине, Вы можете также обращаться
         к нашему представителю в этом регионе:
                               320030, Украина,
                               г.Днепропетровск,
                               ул. Шевченко, 34,